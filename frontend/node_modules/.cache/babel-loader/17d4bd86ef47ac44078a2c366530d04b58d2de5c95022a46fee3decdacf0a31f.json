{"ast":null,"code":"import{createAsyncThunk,createSlice}from'@reduxjs/toolkit';import{getCompositionsCount,getEnsembleAlbums,getTopSellingAlbums,createEnsemble}from'../services/ensembleService';export const fetchCompositionsCount=createAsyncThunk('ensembles/fetchCompositionsCount',async ensembleId=>{return await getCompositionsCount(ensembleId);});export const fetchEnsembleAlbums=createAsyncThunk('ensembles/fetchEnsembleAlbums',async ensembleId=>{return await getEnsembleAlbums(ensembleId);});export const fetchTopSellingAlbums=createAsyncThunk('ensembles/fetchTopSelling',async()=>{return await getTopSellingAlbums();});export const addNewEnsemble=createAsyncThunk('ensembles/addNew',async ensembleData=>{return await createEnsemble(ensembleData);});const ensembleSlice=createSlice({name:'ensembles',initialState:{compositionsCount:null,albums:[],topSelling:[],status:'idle',error:null},reducers:{},extraReducers:builder=>{builder.addCase(fetchCompositionsCount.pending,state=>{state.status='loading';}).addCase(fetchCompositionsCount.fulfilled,(state,action)=>{state.status='succeeded';state.compositionsCount=action.payload.count;}).addCase(fetchCompositionsCount.rejected,(state,action)=>{state.status='failed';state.error=action.error.message;}).addCase(fetchEnsembleAlbums.pending,state=>{state.status='loading';}).addCase(fetchEnsembleAlbums.fulfilled,(state,action)=>{state.status='succeeded';state.albums=action.payload;}).addCase(fetchEnsembleAlbums.rejected,(state,action)=>{state.status='failed';state.error=action.error.message;}).addCase(fetchTopSellingAlbums.pending,state=>{state.status='loading';}).addCase(fetchTopSellingAlbums.fulfilled,(state,action)=>{state.status='succeeded';state.topSelling=action.payload;}).addCase(fetchTopSellingAlbums.rejected,(state,action)=>{state.status='failed';state.error=action.error.message;}).addCase(addNewEnsemble.fulfilled,(state,action)=>{state.status='succeeded';// Optionally add new ensemble to state\n}).addCase(addNewEnsemble.pending,state=>{state.status='loading';}).addCase(addNewEnsemble.rejected,(state,action)=>{state.status='failed';state.error=action.error.message;});}});export default ensembleSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","getCompositionsCount","getEnsembleAlbums","getTopSellingAlbums","createEnsemble","fetchCompositionsCount","ensembleId","fetchEnsembleAlbums","fetchTopSellingAlbums","addNewEnsemble","ensembleData","ensembleSlice","name","initialState","compositionsCount","albums","topSelling","status","error","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","count","rejected","message","reducer"],"sources":["/Users/mak/musicShop/frontend/src/features/ensembleSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { \n  getCompositionsCount, \n  getEnsembleAlbums, \n  getTopSellingAlbums,\n  createEnsemble \n} from '../services/ensembleService';\n\nexport const fetchCompositionsCount = createAsyncThunk(\n  'ensembles/fetchCompositionsCount',\n  async (ensembleId) => {\n    return await getCompositionsCount(ensembleId);\n  }\n);\n\nexport const fetchEnsembleAlbums = createAsyncThunk(\n  'ensembles/fetchEnsembleAlbums',\n  async (ensembleId) => {\n    return await getEnsembleAlbums(ensembleId);\n  }\n);\n\nexport const fetchTopSellingAlbums = createAsyncThunk(\n  'ensembles/fetchTopSelling',\n  async () => {\n    return await getTopSellingAlbums();\n  }\n);\n\nexport const addNewEnsemble = createAsyncThunk(\n  'ensembles/addNew',\n  async (ensembleData) => {\n    return await createEnsemble(ensembleData);\n  }\n);\n\nconst ensembleSlice = createSlice({\n  name: 'ensembles',\n  initialState: {\n    compositionsCount: null,\n    albums: [],\n    topSelling: [],\n    status: 'idle',\n    error: null\n  },\n  reducers: {},\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchCompositionsCount.pending, (state) => {\n        state.status = 'loading';\n      })\n      .addCase(fetchCompositionsCount.fulfilled, (state, action) => {\n        state.status = 'succeeded';\n        state.compositionsCount = action.payload.count;\n      })\n      .addCase(fetchCompositionsCount.rejected, (state, action) => {\n        state.status = 'failed';\n        state.error = action.error.message;\n      })\n      .addCase(fetchEnsembleAlbums.pending, (state) => {\n        state.status = 'loading';\n      })\n      .addCase(fetchEnsembleAlbums.fulfilled, (state, action) => {\n        state.status = 'succeeded';\n        state.albums = action.payload;\n      })\n      .addCase(fetchEnsembleAlbums.rejected, (state, action) => {\n        state.status = 'failed';\n        state.error = action.error.message;\n      })\n      .addCase(fetchTopSellingAlbums.pending, (state) => {\n        state.status = 'loading';\n      })\n      .addCase(fetchTopSellingAlbums.fulfilled, (state, action) => {\n        state.status = 'succeeded';\n        state.topSelling = action.payload;\n      })\n      .addCase(fetchTopSellingAlbums.rejected, (state, action) => {\n        state.status = 'failed';\n        state.error = action.error.message;\n      })\n      .addCase(addNewEnsemble.fulfilled, (state, action) => {\n        state.status = 'succeeded';\n        // Optionally add new ensemble to state\n      })\n      .addCase(addNewEnsemble.pending, (state) => {\n        state.status = 'loading';\n        })\n      .addCase(addNewEnsemble.rejected, (state, action) => {\n        state.status = 'failed';\n        state.error = action.error.message;\n        });\n      \n  }\n});\n\nexport default ensembleSlice.reducer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}