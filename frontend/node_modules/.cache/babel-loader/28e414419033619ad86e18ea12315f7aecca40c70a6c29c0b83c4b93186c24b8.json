{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { getCompositionsCount, getEnsembleAlbums, getTopSellingAlbums, createEnsemble } from '../services/ensembleService';\nexport const fetchCompositionsCount = createAsyncThunk('ensembles/fetchCompositionsCount', async ensembleId => {\n  return await getCompositionsCount(ensembleId);\n});\nexport const fetchEnsembleAlbums = createAsyncThunk('ensembles/fetchEnsembleAlbums', async ensembleId => {\n  return await getEnsembleAlbums(ensembleId);\n});\nexport const fetchTopSellingAlbums = createAsyncThunk('ensembles/fetchTopSelling', async () => {\n  return await getTopSellingAlbums();\n});\nexport const addNewEnsemble = createAsyncThunk('ensembles/addNew', async ensembleData => {\n  return await createEnsemble(ensembleData);\n});\nconst ensembleSlice = createSlice({\n  name: 'ensembles',\n  initialState: {\n    compositionsCount: null,\n    albums: [],\n    topSelling: [],\n    status: 'idle',\n    error: null\n  },\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(fetchCompositionsCount.pending, state => {\n      state.status = 'loading';\n    }).addCase(fetchCompositionsCount.fulfilled, (state, action) => {\n      state.status = 'succeeded';\n      state.compositionsCount = action.payload.count;\n    }).addCase(fetchCompositionsCount.rejected, (state, action) => {\n      state.status = 'failed';\n      state.error = action.error.message;\n    }).addCase(fetchEnsembleAlbums.pending, state => {\n      state.status = 'loading';\n    }).addCase(fetchEnsembleAlbums.fulfilled, (state, action) => {\n      state.status = 'succeeded';\n      state.albums = action.payload;\n    }).addCase(fetchEnsembleAlbums.rejected, (state, action) => {\n      state.status = 'failed';\n      state.error = action.error.message;\n    }).addCase(fetchTopSellingAlbums.pending, state => {\n      state.status = 'loading';\n    }).addCase(fetchTopSellingAlbums.fulfilled, (state, action) => {\n      state.status = 'succeeded';\n      state.topSelling = action.payload;\n    }).addCase(fetchTopSellingAlbums.rejected, (state, action) => {\n      state.status = 'failed';\n      state.error = action.error.message;\n    }).addCase(addNewEnsemble.fulfilled, (state, action) => {\n      state.status = 'succeeded';\n      // Optionally add new ensemble to state\n    }).addCase(addNewEnsemble.pending, state => {\n      state.status = 'loading';\n    }).addCase(addNewEnsemble.rejected, (state, action) => {\n      state.status = 'failed';\n      state.error = action.error.message;\n    });\n  }\n});\nexport default ensembleSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","getCompositionsCount","getEnsembleAlbums","getTopSellingAlbums","createEnsemble","fetchCompositionsCount","ensembleId","fetchEnsembleAlbums","fetchTopSellingAlbums","addNewEnsemble","ensembleData","ensembleSlice","name","initialState","compositionsCount","albums","topSelling","status","error","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","count","rejected","message","reducer"],"sources":["/Users/mak/musicShop/frontend/src/features/ensembleSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { \n  getCompositionsCount, \n  getEnsembleAlbums, \n  getTopSellingAlbums,\n  createEnsemble \n} from '../services/ensembleService';\n\nexport const fetchCompositionsCount = createAsyncThunk(\n  'ensembles/fetchCompositionsCount',\n  async (ensembleId) => {\n    return await getCompositionsCount(ensembleId);\n  }\n);\n\nexport const fetchEnsembleAlbums = createAsyncThunk(\n  'ensembles/fetchEnsembleAlbums',\n  async (ensembleId) => {\n    return await getEnsembleAlbums(ensembleId);\n  }\n);\n\nexport const fetchTopSellingAlbums = createAsyncThunk(\n  'ensembles/fetchTopSelling',\n  async () => {\n    return await getTopSellingAlbums();\n  }\n);\n\nexport const addNewEnsemble = createAsyncThunk(\n  'ensembles/addNew',\n  async (ensembleData) => {\n    return await createEnsemble(ensembleData);\n  }\n);\n\nconst ensembleSlice = createSlice({\n  name: 'ensembles',\n  initialState: {\n    compositionsCount: null,\n    albums: [],\n    topSelling: [],\n    status: 'idle',\n    error: null\n  },\n  reducers: {},\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchCompositionsCount.pending, (state) => {\n        state.status = 'loading';\n      })\n      .addCase(fetchCompositionsCount.fulfilled, (state, action) => {\n        state.status = 'succeeded';\n        state.compositionsCount = action.payload.count;\n      })\n      .addCase(fetchCompositionsCount.rejected, (state, action) => {\n        state.status = 'failed';\n        state.error = action.error.message;\n      })\n      .addCase(fetchEnsembleAlbums.pending, (state) => {\n        state.status = 'loading';\n      })\n      .addCase(fetchEnsembleAlbums.fulfilled, (state, action) => {\n        state.status = 'succeeded';\n        state.albums = action.payload;\n      })\n      .addCase(fetchEnsembleAlbums.rejected, (state, action) => {\n        state.status = 'failed';\n        state.error = action.error.message;\n      })\n      .addCase(fetchTopSellingAlbums.pending, (state) => {\n        state.status = 'loading';\n      })\n      .addCase(fetchTopSellingAlbums.fulfilled, (state, action) => {\n        state.status = 'succeeded';\n        state.topSelling = action.payload;\n      })\n      .addCase(fetchTopSellingAlbums.rejected, (state, action) => {\n        state.status = 'failed';\n        state.error = action.error.message;\n      })\n      .addCase(addNewEnsemble.fulfilled, (state, action) => {\n        state.status = 'succeeded';\n        // Optionally add new ensemble to state\n      })\n      .addCase(addNewEnsemble.pending, (state) => {\n        state.status = 'loading';\n        })\n      .addCase(addNewEnsemble.rejected, (state, action) => {\n        state.status = 'failed';\n        state.error = action.error.message;\n        });\n      \n  }\n});\n\nexport default ensembleSlice.reducer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}