{"ast":null,"code":"import React,{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{fetchTopSellingAlbums}from'../features/ensembleSlice';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SalesDashboard=()=>{const dispatch=useDispatch();const{topSelling,status,error}=useSelector(state=>state.ensembles);useEffect(()=>{dispatch(fetchTopSellingAlbums());},[dispatch]);if(status==='loading')return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-4\",children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445...\"});if(error)return/*#__PURE__*/_jsxs(\"div\",{className:\"text-red-500 text-center py-4\",children:[\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \",error]});return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-6 text-gray-800\",children:\"\\u041B\\u0438\\u0434\\u0435\\u0440\\u044B \\u043F\\u0440\\u043E\\u0434\\u0430\\u0436 \\u0442\\u0435\\u043A\\u0443\\u0449\\u0435\\u0433\\u043E \\u0433\\u043E\\u0434\\u0430\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:topSelling.map(item=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-5\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 mb-2\",children:item.albumTitle}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"\\u041A\\u0430\\u0442\\u0430\\u043B\\u043E\\u0436\\u043D\\u044B\\u0439 \\u043D\\u043E\\u043C\\u0435\\u0440:\"}),\" \",item.catalogNumber]}),item.ensembleName&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"\\u0410\\u043D\\u0441\\u0430\\u043C\\u0431\\u043B\\u044C:\"}),\" \",item.ensembleName]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"\\u041F\\u0440\\u043E\\u0434\\u0430\\u043D\\u043E \\u0432 \\u044D\\u0442\\u043E\\u043C \\u0433\\u043E\\u0434\\u0443:\"}),\" \",item.currentYearSales]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"\\u0420\\u043E\\u0437\\u043D\\u0438\\u0447\\u043D\\u0430\\u044F \\u0446\\u0435\\u043D\\u0430:\"}),\" $\",item.retailPrice.toFixed(2)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 bg-gray-100 p-3 rounded\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-700\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"\\u041E\\u0441\\u0442\\u0430\\u043B\\u043E\\u0441\\u044C \\u043D\\u0430 \\u0441\\u043A\\u043B\\u0430\\u0434\\u0435:\"}),\" \",item.unsold]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-700\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"\\u041F\\u0440\\u043E\\u0434\\u0430\\u043D\\u043E \\u0432 \\u043F\\u0440\\u043E\\u0448\\u043B\\u043E\\u043C \\u0433\\u043E\\u0434\\u0443:\"}),\" \",item.lastYearSales]})]})]})},item.id))}),topSelling.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-gray-500\",children:\"\\u041D\\u0435\\u0442 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 \\u043E \\u043F\\u0440\\u043E\\u0434\\u0430\\u0436\\u0430\\u0445 \\u0437\\u0430 \\u0442\\u0435\\u043A\\u0443\\u0449\\u0438\\u0439 \\u0433\\u043E\\u0434\"})]});};export default SalesDashboard;","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","fetchTopSellingAlbums","jsx","_jsx","jsxs","_jsxs","SalesDashboard","dispatch","topSelling","status","error","state","ensembles","className","children","map","item","albumTitle","catalogNumber","ensembleName","currentYearSales","retailPrice","toFixed","unsold","lastYearSales","id","length"],"sources":["/Users/mak/musicShop/frontend/src/components/SalesDashboard.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchTopSellingAlbums } from '../features/ensembleSlice';\n\nconst SalesDashboard = () => {\n  const dispatch = useDispatch();\n  const { topSelling, status, error } = useSelector(state => state.ensembles);\n\n  useEffect(() => {\n    dispatch(fetchTopSellingAlbums());\n  }, [dispatch]);\n\n  if (status === 'loading') return <div className=\"text-center py-4\">Загрузка данных...</div>;\n  if (error) return <div className=\"text-red-500 text-center py-4\">Ошибка: {error}</div>;\n\n  return (\n    <div className=\"container mx-auto p-4\">\n      <h2 className=\"text-2xl font-bold mb-6 text-gray-800\">Лидеры продаж текущего года</h2>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {topSelling.map(item => (\n          <div key={item.id} className=\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow\">\n            <div className=\"p-5\">\n              <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">\n                {item.albumTitle}\n              </h3>\n              \n              <p className=\"text-gray-600 mb-1\">\n                <span className=\"font-medium\">Каталожный номер:</span> {item.catalogNumber}\n              </p>\n              \n              {item.ensembleName && (\n                <p className=\"text-gray-600 mb-1\">\n                  <span className=\"font-medium\">Ансамбль:</span> {item.ensembleName}\n                </p>\n              )}\n              \n              <p className=\"text-gray-600 mb-1\">\n                <span className=\"font-medium\">Продано в этом году:</span> {item.currentYearSales}\n              </p>\n              \n              <p className=\"text-gray-600 mb-3\">\n                <span className=\"font-medium\">Розничная цена:</span> ${item.retailPrice.toFixed(2)}\n              </p>\n              \n              <div className=\"mt-4 bg-gray-100 p-3 rounded\">\n                <p className=\"text-gray-700\">\n                  <span className=\"font-medium\">Осталось на складе:</span> {item.unsold}\n                </p>\n                <p className=\"text-gray-700\">\n                  <span className=\"font-medium\">Продано в прошлом году:</span> {item.lastYearSales}\n                </p>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n      \n      {topSelling.length === 0 && (\n        <div className=\"text-center py-8 text-gray-500\">\n          Нет данных о продажах за текущий год\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SalesDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}