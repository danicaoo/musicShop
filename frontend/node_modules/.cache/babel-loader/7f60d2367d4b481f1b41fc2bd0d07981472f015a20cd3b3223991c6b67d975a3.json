{"ast":null,"code":"var _jsxFileName = \"/Users/mak/musicShop/frontend/src/components/CompositionList.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { fetchCompositions } from '../features/compositionSlice';\nimport LoadingSpinner from './LoadingSpinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CompositionList = () => {\n  _s();\n  const dispatch = useDispatch();\n  const list = useSelector(state => {\n    var _state$compositions;\n    return ((_state$compositions = state.compositions) === null || _state$compositions === void 0 ? void 0 : _state$compositions.list) || [];\n  });\n  const status = useSelector(state => {\n    var _state$compositions2;\n    return ((_state$compositions2 = state.compositions) === null || _state$compositions2 === void 0 ? void 0 : _state$compositions2.status) || 'idle';\n  });\n  const error = useSelector(state => {\n    var _state$compositions3;\n    return ((_state$compositions3 = state.compositions) === null || _state$compositions3 === void 0 ? void 0 : _state$compositions3.error) || null;\n  });\n  useEffect(() => {\n    dispatch(fetchCompositions());\n  }, [dispatch]);\n  if (status === 'loading') return /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n    text: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u043A\\u043E\\u043C\\u043F\\u043E\\u0437\\u0438\\u0446\\u0438\\u0439...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 36\n  }, this);\n  if (status === 'failed') return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-red-500\",\n    children: [\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \", error]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 35\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto p-6 bg-white rounded-xl shadow-lg\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-gray-800\",\n        children: \"\\u041C\\u0443\\u0437\\u044B\\u043A\\u0430\\u043B\\u044C\\u043D\\u044B\\u0435 \\u043A\\u043E\\u043C\\u043F\\u043E\\u0437\\u0438\\u0446\\u0438\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/add-composition\",\n        className: \"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors\",\n        children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043A\\u043E\\u043C\\u043F\\u043E\\u0437\\u0438\\u0446\\u0438\\u044E\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overflow-x-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"min-w-full divide-y divide-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          className: \"bg-gray-50\",\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n              children: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 37,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n              children: \"\\u0414\\u043B\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n              children: \"\\u0413\\u043E\\u0434 \\u0441\\u043E\\u0437\\u0434\\u0430\\u043D\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n              children: \"\\u0416\\u0430\\u043D\\u0440\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n              children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          className: \"bg-white divide-y divide-gray-200\",\n          children: list.map(composition => {\n            var _composition$genre;\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"hover:bg-gray-50\",\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap font-medium text-gray-900\",\n                children: composition.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap text-gray-500\",\n                children: [Math.floor(composition.duration / 60), \":\", String(composition.duration % 60).padStart(2, '0')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap text-gray-500\",\n                children: composition.creationYear\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap text-gray-500\",\n                children: ((_composition$genre = composition.genre) === null || _composition$genre === void 0 ? void 0 : _composition$genre.join(', ')) || '-'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap\",\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: `/composition/${composition.id}`,\n                  className: \"text-blue-600 hover:text-blue-800\",\n                  children: \"\\u041F\\u043E\\u0434\\u0440\\u043E\\u0431\\u043D\\u0435\\u0435\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 70,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 17\n              }, this)]\n            }, composition.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 15\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 5\n  }, this);\n};\n_s(CompositionList, \"EqTr3hF7l+lKqhYx8wK6PF2iVpc=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n_c = CompositionList;\nexport default CompositionList;\nvar _c;\n$RefreshReg$(_c, \"CompositionList\");","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","Link","fetchCompositions","LoadingSpinner","jsxDEV","_jsxDEV","CompositionList","_s","dispatch","list","state","_state$compositions","compositions","status","_state$compositions2","error","_state$compositions3","text","fileName","_jsxFileName","lineNumber","columnNumber","className","children","to","map","composition","_composition$genre","title","Math","floor","duration","String","padStart","creationYear","genre","join","id","_c","$RefreshReg$"],"sources":["/Users/mak/musicShop/frontend/src/components/CompositionList.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { fetchCompositions } from '../features/compositionSlice';\nimport LoadingSpinner from './LoadingSpinner';\n\nconst CompositionList = () => {\n  const dispatch = useDispatch();\n  const list = useSelector(state => state.compositions?.list || []);\nconst status = useSelector(state => state.compositions?.status || 'idle');\nconst error = useSelector(state => state.compositions?.error || null);\n\n\n  useEffect(() => {\n    dispatch(fetchCompositions());\n  }, [dispatch]);\n\n  if (status === 'loading') return <LoadingSpinner text=\"Загрузка композиций...\" />;\n  if (status === 'failed') return <div className=\"text-red-500\">Ошибка: {error}</div>;\n\n  return (\n    <div className=\"max-w-4xl mx-auto p-6 bg-white rounded-xl shadow-lg\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h2 className=\"text-2xl font-bold text-gray-800\">Музыкальные композиции</h2>\n        <Link \n          to=\"/add-composition\" \n          className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors\"\n        >\n          Добавить композицию\n        </Link>\n      </div>\n\n      <div className=\"overflow-x-auto\">\n        <table className=\"min-w-full divide-y divide-gray-200\">\n          <thead className=\"bg-gray-50\">\n            <tr>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Название\n              </th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Длительность\n              </th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Год создания\n              </th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Жанр\n              </th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Действия\n              </th>\n            </tr>\n          </thead>\n          <tbody className=\"bg-white divide-y divide-gray-200\">\n            {list.map(composition => (\n              <tr key={composition.id} className=\"hover:bg-gray-50\">\n                <td className=\"px-6 py-4 whitespace-nowrap font-medium text-gray-900\">\n                  {composition.title}\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap text-gray-500\">\n                  {Math.floor(composition.duration / 60)}:{String(composition.duration % 60).padStart(2, '0')}\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap text-gray-500\">\n                  {composition.creationYear}\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap text-gray-500\">\n                  {composition.genre?.join(', ') || '-'}\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <Link \n                    to={`/composition/${composition.id}`}\n                    className=\"text-blue-600 hover:text-blue-800\"\n                  >\n                    Подробнее\n                  </Link>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n};\n\nexport default CompositionList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}