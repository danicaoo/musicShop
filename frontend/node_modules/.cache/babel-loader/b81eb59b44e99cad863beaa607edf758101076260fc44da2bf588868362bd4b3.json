{"ast":null,"code":"import api from '../api'; // Используем настроенный экземпляр axios\n\nexport const createMusician = async musicianData => {\n  const response = await api.post('/musicians', musicianData);\n  return response.data;\n};\nexport const updateMusician = async (id, musicianData) => {\n  const response = await api.put(`/musicians/${id}`, musicianData);\n  return response.data;\n};\nexport const getAllMusicians = async () => {\n  const response = await api.get('/musicians');\n  return response.data;\n};\nexport const getMusicianById = async id => {\n  const response = await api.get(`/musicians/${id}`);\n  return response.data;\n};\nexport const searchMusicians = async query => {\n  try {\n    const response = await api.get('/musicians/search', {\n      params: {\n        q: query\n      }\n    });\n    return response.data;\n  } catch (error) {\n    var _error$response$data;\n    // Обработка ошибки короткого запроса\n    if (error.response && error.response.status === 400 && ((_error$response$data = error.response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) === 'Query must be at least 2 characters') {\n      return [];\n    }\n\n    // Обработка других ошибок\n    if (error.response) {\n      var _error$response$data2;\n      throw new Error(`API Error: ${error.response.status} - ${((_error$response$data2 = error.response.data) === null || _error$response$data2 === void 0 ? void 0 : _error$response$data2.error) || 'Unknown error'}`);\n    } else if (error.request) {\n      throw new Error('No response from server');\n    } else {\n      throw new Error('Request setup error');\n    }\n  }\n};","map":{"version":3,"names":["api","createMusician","musicianData","response","post","data","updateMusician","id","put","getAllMusicians","get","getMusicianById","searchMusicians","query","params","q","error","_error$response$data","status","_error$response$data2","Error","request"],"sources":["/Users/mak/musicShop/frontend/src/services/musicianService.js"],"sourcesContent":["import api from '../api'; // Используем настроенный экземпляр axios\n\nexport const createMusician = async (musicianData) => {\n  const response = await api.post('/musicians', musicianData);\n  return response.data;\n};\n\nexport const updateMusician = async (id, musicianData) => {\n  const response = await api.put(`/musicians/${id}`, musicianData);\n  return response.data;\n};\n\nexport const getAllMusicians = async () => {\n  const response = await api.get('/musicians');\n  return response.data;\n};\n\nexport const getMusicianById = async (id) => {\n  const response = await api.get(`/musicians/${id}`);\n  return response.data;\n};\n\nexport const searchMusicians = async (query) => {\n  try {\n    const response = await api.get('/musicians/search', {\n      params: { q: query }\n    });\n    return response.data;\n  } catch (error) {\n    // Обработка ошибки короткого запроса\n    if (error.response && error.response.status === 400 && \n        error.response.data?.error === 'Query must be at least 2 characters') {\n      return [];\n    }\n    \n    // Обработка других ошибок\n    if (error.response) {\n      throw new Error(`API Error: ${error.response.status} - ${error.response.data?.error || 'Unknown error'}`);\n    } else if (error.request) {\n      throw new Error('No response from server');\n    } else {\n      throw new Error('Request setup error');\n    }\n  }\n};"],"mappings":"AAAA,OAAOA,GAAG,MAAM,QAAQ,CAAC,CAAC;;AAE1B,OAAO,MAAMC,cAAc,GAAG,MAAOC,YAAY,IAAK;EACpD,MAAMC,QAAQ,GAAG,MAAMH,GAAG,CAACI,IAAI,CAAC,YAAY,EAAEF,YAAY,CAAC;EAC3D,OAAOC,QAAQ,CAACE,IAAI;AACtB,CAAC;AAED,OAAO,MAAMC,cAAc,GAAG,MAAAA,CAAOC,EAAE,EAAEL,YAAY,KAAK;EACxD,MAAMC,QAAQ,GAAG,MAAMH,GAAG,CAACQ,GAAG,CAAC,cAAcD,EAAE,EAAE,EAAEL,YAAY,CAAC;EAChE,OAAOC,QAAQ,CAACE,IAAI;AACtB,CAAC;AAED,OAAO,MAAMI,eAAe,GAAG,MAAAA,CAAA,KAAY;EACzC,MAAMN,QAAQ,GAAG,MAAMH,GAAG,CAACU,GAAG,CAAC,YAAY,CAAC;EAC5C,OAAOP,QAAQ,CAACE,IAAI;AACtB,CAAC;AAED,OAAO,MAAMM,eAAe,GAAG,MAAOJ,EAAE,IAAK;EAC3C,MAAMJ,QAAQ,GAAG,MAAMH,GAAG,CAACU,GAAG,CAAC,cAAcH,EAAE,EAAE,CAAC;EAClD,OAAOJ,QAAQ,CAACE,IAAI;AACtB,CAAC;AAED,OAAO,MAAMO,eAAe,GAAG,MAAOC,KAAK,IAAK;EAC9C,IAAI;IACF,MAAMV,QAAQ,GAAG,MAAMH,GAAG,CAACU,GAAG,CAAC,mBAAmB,EAAE;MAClDI,MAAM,EAAE;QAAEC,CAAC,EAAEF;MAAM;IACrB,CAAC,CAAC;IACF,OAAOV,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOW,KAAK,EAAE;IAAA,IAAAC,oBAAA;IACd;IACA,IAAID,KAAK,CAACb,QAAQ,IAAIa,KAAK,CAACb,QAAQ,CAACe,MAAM,KAAK,GAAG,IAC/C,EAAAD,oBAAA,GAAAD,KAAK,CAACb,QAAQ,CAACE,IAAI,cAAAY,oBAAA,uBAAnBA,oBAAA,CAAqBD,KAAK,MAAK,qCAAqC,EAAE;MACxE,OAAO,EAAE;IACX;;IAEA;IACA,IAAIA,KAAK,CAACb,QAAQ,EAAE;MAAA,IAAAgB,qBAAA;MAClB,MAAM,IAAIC,KAAK,CAAC,cAAcJ,KAAK,CAACb,QAAQ,CAACe,MAAM,MAAM,EAAAC,qBAAA,GAAAH,KAAK,CAACb,QAAQ,CAACE,IAAI,cAAAc,qBAAA,uBAAnBA,qBAAA,CAAqBH,KAAK,KAAI,eAAe,EAAE,CAAC;IAC3G,CAAC,MAAM,IAAIA,KAAK,CAACK,OAAO,EAAE;MACxB,MAAM,IAAID,KAAK,CAAC,yBAAyB,CAAC;IAC5C,CAAC,MAAM;MACL,MAAM,IAAIA,KAAK,CAAC,qBAAqB,CAAC;IACxC;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}