{"ast":null,"code":"var _jsxFileName = \"/Users/mak/musicShop/frontend/src/components/RecordingSearch.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RecordingSearch = ({\n  recordings,\n  onSelect,\n  selected\n}) => {\n  _s();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [showResults, setShowResults] = useState(false);\n  const filteredRecordings = recordings.filter(recording => {\n    if (!recording.composition) return false;\n    return recording.composition.title.toLowerCase().includes(searchTerm.toLowerCase()) || recording.studio && recording.studio.toLowerCase().includes(searchTerm.toLowerCase());\n  });\n  const handleSelect = recording => {\n    onSelect(recording);\n    setSearchTerm('');\n    setShowResults(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"\\u041F\\u043E\\u0438\\u0441\\u043A \\u0437\\u0430\\u043F\\u0438\\u0441\\u0438 \\u043F\\u043E \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u044E \\u043A\\u043E\\u043C\\u043F\\u043E\\u0437\\u0438\\u0446\\u0438\\u0438 \\u0438\\u043B\\u0438 \\u0441\\u0442\\u0443\\u0434\\u0438\\u0438...\",\n      value: searchTerm,\n      onChange: e => {\n        setSearchTerm(e.target.value);\n        setShowResults(true);\n      },\n      onFocus: () => setShowResults(true),\n      className: \"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this), showResults && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto\",\n      children: filteredRecordings.length > 0 ? filteredRecordings.map(recording => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-3 hover:bg-blue-50 cursor-pointer border-b border-gray-100 last:border-b-0\",\n        onClick: () => handleSelect(recording),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-medium\",\n          children: recording.composition.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-600\",\n          children: [recording.studio && `Студия: ${recording.studio} • `, new Date(recording.recordingDate).toLocaleDateString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }, this)]\n      }, recording.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 15\n      }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-3 text-gray-500\",\n        children: searchTerm ? 'Записи не найдены' : 'Введите запрос для поиска'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this), selected && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-md\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"font-medium\",\n        children: \"\\u0412\\u044B\\u0431\\u0440\\u0430\\u043D\\u043E:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mt-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [selected.composition.title, selected.studio && ` (${selected.studio})`]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onSelect(null),\n          className: \"text-red-600 hover:text-red-800 font-bold\",\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this);\n};\n_s(RecordingSearch, \"tmqj2o9b1E5BBnhsET5xj8aByZA=\");\n_c = RecordingSearch;\nexport default RecordingSearch;\nvar _c;\n$RefreshReg$(_c, \"RecordingSearch\");","map":{"version":3,"names":["React","useState","useSelector","jsxDEV","_jsxDEV","RecordingSearch","recordings","onSelect","selected","_s","searchTerm","setSearchTerm","showResults","setShowResults","filteredRecordings","filter","recording","composition","title","toLowerCase","includes","studio","handleSelect","className","children","type","placeholder","value","onChange","e","target","onFocus","fileName","_jsxFileName","lineNumber","columnNumber","length","map","onClick","Date","recordingDate","toLocaleDateString","id","_c","$RefreshReg$"],"sources":["/Users/mak/musicShop/frontend/src/components/RecordingSearch.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\n\nconst RecordingSearch = ({ recordings, onSelect, selected }) => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [showResults, setShowResults] = useState(false);\n\n  const filteredRecordings = recordings.filter(recording => {\n    if (!recording.composition) return false;\n    \n    return (\n      recording.composition.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      (recording.studio && recording.studio.toLowerCase().includes(searchTerm.toLowerCase()))\n    );\n  });\n\n  const handleSelect = (recording) => {\n    onSelect(recording);\n    setSearchTerm('');\n    setShowResults(false);\n  };\n\n  return (\n    <div className=\"relative\">\n      <input\n        type=\"text\"\n        placeholder=\"Поиск записи по названию композиции или студии...\"\n        value={searchTerm}\n        onChange={(e) => {\n          setSearchTerm(e.target.value);\n          setShowResults(true);\n        }}\n        onFocus={() => setShowResults(true)}\n        className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n      />\n      \n      {showResults && (\n        <div className=\"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto\">\n          {filteredRecordings.length > 0 ? (\n            filteredRecordings.map(recording => (\n              <div\n                key={recording.id}\n                className=\"p-3 hover:bg-blue-50 cursor-pointer border-b border-gray-100 last:border-b-0\"\n                onClick={() => handleSelect(recording)}\n              >\n                <div className=\"font-medium\">\n                  {recording.composition.title}\n                </div>\n                <div className=\"text-sm text-gray-600\">\n                  {recording.studio && `Студия: ${recording.studio} • `}\n                  {new Date(recording.recordingDate).toLocaleDateString()}\n                </div>\n              </div>\n            ))\n          ) : (\n            <div className=\"p-3 text-gray-500\">\n              {searchTerm ? 'Записи не найдены' : 'Введите запрос для поиска'}\n            </div>\n          )}\n        </div>\n      )}\n      \n      {selected && (\n        <div className=\"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-md\">\n          <div className=\"font-medium\">Выбрано:</div>\n          <div className=\"flex justify-between items-center mt-1\">\n            <div>\n              {selected.composition.title}\n              {selected.studio && ` (${selected.studio})`}\n            </div>\n            <button\n              onClick={() => onSelect(null)}\n              className=\"text-red-600 hover:text-red-800 font-bold\"\n            >\n              ×\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default RecordingSearch;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}